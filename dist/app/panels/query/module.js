define("panels/query/module",["angular","app","underscore"],function(e,t,n){var r=e.module("kibana.panels.query",[]);t.useModule(r),r.controller("query",["$scope","querySrv","$rootScope",function(e,t,r){e.panelMeta={status:"Stable",description:"Manage all of the queries on the dashboard. You almost certainly need one of these somewhere. This panel allows you to add, remove, label, pin and color queries"};var i={label:"Search",query:"*",pinned:!0,history:[],remember:10};n.defaults(e.panel,i),e.querySrv=t,e.init=function(){},e.refresh=function(){s(n.pluck(e.querySrv.list,"query")),r.$broadcast("refresh")},e.render=function(){r.$broadcast("render")},e.toggle_pin=function(e){t.list[e].pin=t.list[e].pin?!1:!0};var s=function(t){if(e.panel.remember>0){e.panel.history=n.union(t.reverse(),e.panel.history);var r=e.panel.history.length;r>e.panel.remember&&(e.panel.history=e.panel.history.slice(0,e.panel.remember))}};e.init()}])});